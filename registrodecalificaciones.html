<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Calificaciones con Estadísticas</title>
</head>
<body>

    <h2>Registro de Calificaciones con Estadísticas</h2>

    <table border="1">
        <thead>
            <tr>
                <th colspan="4">Registro de Estudiantes</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Nombre del estudiante:</td>
                <td><input type="text" id="id-nombre"></td>
                <td>Nota (0 - 10):</td>
                <td><input type="number" id="id-nota" min="0" max="10"></td>
            </tr>
            <tr>
                <td colspan="2"><button id="id-btn-agregar">Agregar</button></td>
                <td colspan="2"><button id="id-btn-mostrar">Mostrar Datos</button></td>
            </tr>
            <tr>
                <td colspan="4">
                    <span id="id-mostrar-lista">No hay datos ingresados.</span>
                </td>
            </tr>
            <tr>
                <td colspan="4" align="center">
                    <button id="id-btn-calcular">Calcular Estadísticas</button>
                </td>
            </tr>
            <tr>
                <td>Promedio General:</td>
                <td><span id="id-promedio">0.00</span></td>
                <td>Nota más alta:</td>
                <td><span id="id-nota-alta">0.00</span></td>
            </tr>
            <tr>
                <td>Pertenece a:</td>
                <td><span id="id-mejor-estudiante">---</span></td>
                <td> Aprobados (≥7):</td>
                <td><span id="id-aprobados">0%</span></td>
            </tr>
        </tbody>
    </table>

    <script>
        // ======= VECTORES PARA GUARDAR DATOS =======
        const nombres = [];
        const notas = [];

        // ======= REFERENCIAS A LOS ELEMENTOS =======
        const txtNombre = document.getElementById("id-nombre");
        const txtNota = document.getElementById("id-nota");
        const btnAgregar = document.getElementById("id-btn-agregar");
        const btnMostrar = document.getElementById("id-btn-mostrar");
        const btnCalcular = document.getElementById("id-btn-calcular");

        const mostrarLista = document.getElementById("id-mostrar-lista");
        const mostrarPromedio = document.getElementById("id-promedio");
        const mostrarNotaAlta = document.getElementById("id-nota-alta");
        const mostrarMejor = document.getElementById("id-mejor-estudiante");
        const mostrarAprobados = document.getElementById("id-aprobados");

        // ======= AGREGAR ESTUDIANTE =======
        btnAgregar.addEventListener("click", () => {
            const nombre = txtNombre.value.trim();
            const nota = parseFloat(txtNota.value);

            if (nombre === "" || isNaN(nota)) {
                alert("Por favor, ingrese el nombre y la nota del estudiante.");
                return;
            }

            if (nota < 0 || nota > 10) {
                alert("La nota debe estar entre 0 y 10.");
                return;
            }

            nombres.push(nombre);
            notas.push(nota);

            txtNombre.value = "";
            txtNota.value = "";

            alert("Estudiante agregado correctamente.");
        });

        // ======= MOSTRAR DATOS =======
        btnMostrar.addEventListener("click", () => {
            if (nombres.length === 0) {
                mostrarLista.innerHTML = "No hay datos para mostrar.";
                return;
            }

            let lista = "";
            for (let i = 0; i < nombres.length; i++) {
                lista += (i + 1) + ". " + nombres[i] + " → Nota: " + notas[i] + "<br>";
            }
            mostrarLista.innerHTML = lista;
        });

        // ======= CALCULAR ESTADÍSTICAS =======
        btnCalcular.addEventListener("click", () => {
            if (notas.length === 0) {
                alert("Debe ingresar al menos una nota para calcular estadísticas.");
                return;
            }

            let suma = 0;
            let maxNota = notas[0];
            let indiceMax = 0;
            let aprobados = 0;

            for (let i = 0; i < notas.length; i++) {
                suma += notas[i];

                if (notas[i] > maxNota) {
                    maxNota = notas[i];
                    indiceMax = i;
                }

                if (notas[i] >= 7) {
                    aprobados++;
                }
            }

            const promedio = suma / notas.length;
            const porcentajeAprobados = (aprobados / notas.length) * 100;

            mostrarPromedio.innerHTML = promedio.toFixed(2);
            mostrarNotaAlta.innerHTML = maxNota;
            mostrarMejor.innerHTML = nombres[indiceMax];
            mostrarAprobados.innerHTML = porcentajeAprobados.toFixed(2) + "%";
        });
    </script>

</body>
</html>



  